{{ define "main" }}

<main>
	{{ partial "index/introduction.html" . }}

	<div class="catalogue">
		<!-- needed change because of https://github.com/gohugoio/hugo/issues/6154-->
		{{ range (.Paginate (where .Site.RegularPages "Type" "posts")).Pages }}
			{{ .Render "summary" }}
		{{ end }}
	</div>
	
	{{ if gt .Paginator.TotalPages 1 }}
	<nav class="paginate-container">
		<div class="pagination">
		<ul>
			{{ if .Paginator.HasPrev }}
			<a href="{{ .Paginator.Prev.URL }}" class="previous_page">Prev</a>
			{{ else }}
			<span class="previous_page disabled">Prev</span>
			{{ end }}

			{{ range .Paginator.Pagers }}
			<a href="{{ .URL }}">
				{{ .PageNumber }}
			</a>
			{{ end }}

			{{ if .Paginator.HasNext }}
			<a href="{{ .Paginator.Next.URL }}" class="next_page">Next</a>
			{{ else }}
			<span class="next_page disabled">Next</span>
			{{ end }}
		</ul>
		</div>
	</nav>
	{{ end }}
</main>

{{ end }}
